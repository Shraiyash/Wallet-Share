{"ast":null,"code":"var _jsxFileName = \"/Users/yash/smart-wallet/frontend/src/components/Admin.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { motion, AnimatePresence } from 'framer-motion';\nimport CustomAlert from './CustomAlert.js';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction Admin({\n  contract\n}) {\n  _s();\n  const [accessAddress, setAccessAddress] = useState(\"\");\n  const [accessAllowed, setAccessAllowed] = useState(\"\");\n  // Store the on-chain access list as an array\n  const [accessList, setAccessList] = useState([]);\n  const [showAccessList, setShowAccessList] = useState(false);\n  const [alertData, setAlertData] = useState(null);\n\n  // Fetch the allowed users from the contract when it becomes available\n  useEffect(() => {\n    async function fetchAllowedUsers() {\n      if (contract) {\n        try {\n          const allowedUsersArray = await contract.getAllowedUsers();\n          setAccessList(allowedUsersArray);\n          console.error(\"allowed users:\");\n        } catch (err) {\n          console.error(\"Error fetching allowed users:\", err);\n        }\n      }\n    }\n    fetchAllowedUsers();\n  }, [contract]);\n\n  // Function to toggle the display of the access list\n  const handleToggleAccessList = () => {\n    setShowAccessList(prev => !prev);\n  };\n\n  // Function to set access on-chain and then update the list\n  async function handleSetAccess() {\n    try {\n      const allowedBool = accessAllowed.toLowerCase() === \"true\";\n      const tx = await contract.setAccess(accessAddress, allowedBool);\n      await tx.wait();\n      // Notify success (you could use a custom alert here as well)\n\n      setAlertData({\n        message: \"Access set successfully!\",\n        type: \"success\"\n      });\n      // Re-fetch the allowed users list from the contract\n      const allowedUsersArray = await contract.getAllowedUsers();\n      setAccessList(allowedUsersArray);\n    } catch (err) {\n      console.error(err);\n      alert(\"Setting access failed!\");\n    }\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"admin-container\",\n    children: [alertData && /*#__PURE__*/_jsxDEV(CustomAlert, {\n      alertData: alertData,\n      onClose: () => setAlertData(null)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 11\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"admin-left\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"Set Access Restrictions for each user\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"access-btn\",\n        onClick: handleToggleAccessList,\n        children: showAccessList ? \"Hide Access List\" : \"Show Access List\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(AnimatePresence, {\n        children: showAccessList && /*#__PURE__*/_jsxDEV(motion.div, {\n          initial: {\n            y: -100,\n            opacity: 0\n          },\n          animate: {\n            y: 0,\n            opacity: 1\n          },\n          exit: {\n            y: 100,\n            opacity: 0\n          },\n          transition: {\n            delay: 0.2,\n            duration: 1.0,\n            ease: \"easeInOut\"\n          },\n          className: \"access-list\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"Users with Access:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 76,\n            columnNumber: 15\n          }, this), accessList.length === 0 ? /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"No users have been granted access yet.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 78,\n            columnNumber: 17\n          }, this) : /*#__PURE__*/_jsxDEV(\"ul\", {\n            children: accessList.map((address, index) => /*#__PURE__*/_jsxDEV(\"li\", {\n              children: address\n            }, index, false, {\n              fileName: _jsxFileName,\n              lineNumber: 82,\n              columnNumber: 21\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 80,\n            columnNumber: 17\n          }, this)]\n        }, \"access-list\", true, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"admin-right\",\n      children: [/*#__PURE__*/_jsxDEV(motion.img, {\n        src: \"/admin.gif\",\n        alt: \"Admin Animation\",\n        style: {\n          width: \"150px\",\n          height: \"150px\",\n          marginBottom: \"20px\"\n        },\n        initial: {\n          opacity: 0,\n          y: -20\n        },\n        animate: {\n          opacity: 1,\n          y: 0\n        },\n        transition: {\n          delay: 0.2,\n          duration: 1,\n          ease: \"easeInOut\"\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Set Access Restrictions\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"glass-container\",\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          className: \"glass-input\",\n          type: \"text\",\n          placeholder: \"Address\",\n          value: accessAddress,\n          onChange: e => setAccessAddress(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 101,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          className: \"glass-input\",\n          type: \"text\",\n          placeholder: \"Allowed? (true/false)\",\n          value: accessAllowed,\n          onChange: e => setAccessAllowed(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 108,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: handleSetAccess,\n          children: \"Set Access\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 115,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 57,\n    columnNumber: 5\n  }, this);\n}\n_s(Admin, \"4jZFRc2HYoI13fxbWB1d/lISuZQ=\");\n_c = Admin;\nexport default Admin;\nvar _c;\n$RefreshReg$(_c, \"Admin\");","map":{"version":3,"names":["React","useState","useEffect","motion","AnimatePresence","CustomAlert","jsxDEV","_jsxDEV","Admin","contract","_s","accessAddress","setAccessAddress","accessAllowed","setAccessAllowed","accessList","setAccessList","showAccessList","setShowAccessList","alertData","setAlertData","fetchAllowedUsers","allowedUsersArray","getAllowedUsers","console","error","err","handleToggleAccessList","prev","handleSetAccess","allowedBool","toLowerCase","tx","setAccess","wait","message","type","alert","className","children","onClose","fileName","_jsxFileName","lineNumber","columnNumber","onClick","div","initial","y","opacity","animate","exit","transition","delay","duration","ease","length","map","address","index","img","src","alt","style","width","height","marginBottom","placeholder","value","onChange","e","target","_c","$RefreshReg$"],"sources":["/Users/yash/smart-wallet/frontend/src/components/Admin.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { motion, AnimatePresence } from 'framer-motion';\nimport CustomAlert from './CustomAlert.js'; \n\nfunction Admin({ contract }) {\n  const [accessAddress, setAccessAddress] = useState(\"\");\n  const [accessAllowed, setAccessAllowed] = useState(\"\");\n  // Store the on-chain access list as an array\n  const [accessList, setAccessList] = useState([]);\n  const [showAccessList, setShowAccessList] = useState(false);\n\n  const [alertData, setAlertData] = useState(null);\n\n  // Fetch the allowed users from the contract when it becomes available\n  useEffect(() => {\n    async function fetchAllowedUsers() {\n      if (contract) {\n        try {\n          const allowedUsersArray = await contract.getAllowedUsers();\n          setAccessList(allowedUsersArray);\n          console.error(\"allowed users:\");\n        } catch (err) {\n          console.error(\"Error fetching allowed users:\", err);\n        }\n      }\n    }\n    fetchAllowedUsers();\n  }, [contract]);\n\n  // Function to toggle the display of the access list\n  const handleToggleAccessList = () => {\n    setShowAccessList(prev => !prev);\n  };\n\n  // Function to set access on-chain and then update the list\n  async function handleSetAccess() {\n    try {\n      const allowedBool = accessAllowed.toLowerCase() === \"true\";\n      const tx = await contract.setAccess(accessAddress, allowedBool);\n      await tx.wait();\n      // Notify success (you could use a custom alert here as well)\n\n      setAlertData({\n        message: \"Access set successfully!\",\n        type:\"success\"\n      });\n      // Re-fetch the allowed users list from the contract\n      const allowedUsersArray = await contract.getAllowedUsers();\n      setAccessList(allowedUsersArray);\n    } catch (err) {\n      console.error(err);\n      alert(\"Setting access failed!\");\n    }\n  }\n\n  return (\n    <div className=\"admin-container\">\n      {alertData && (\n          <CustomAlert alertData={alertData} onClose={() => setAlertData(null)} />\n       )}\n      <div className=\"admin-left\">\n        <h1>Set Access Restrictions for each user</h1>\n        <button className=\"access-btn\" onClick={handleToggleAccessList}>\n          {showAccessList ? \"Hide Access List\" : \"Show Access List\"}\n        </button>\n        <AnimatePresence>\n          {showAccessList && (\n            <motion.div \n              key=\"access-list\"\n              initial={{ y: -100, opacity: 0 }}\n              animate={{ y: 0, opacity: 1 }}\n              exit={{ y: 100, opacity: 0 }}\n              transition={{ delay: 0.2, duration: 1.0, ease: \"easeInOut\" }}\n              className=\"access-list\"\n            >\n              <h3>Users with Access:</h3>\n              {accessList.length === 0 ? (\n                <p>No users have been granted access yet.</p>\n              ) : (\n                <ul>\n                  {accessList.map((address, index) => (\n                    <li key={index}>{address}</li>\n                  ))}\n                </ul>\n              )}\n            </motion.div>\n          )}\n        </AnimatePresence>\n      </div>\n      <div className=\"admin-right\">\n        <motion.img \n          src=\"/admin.gif\" \n          alt=\"Admin Animation\" \n          style={{ width: \"150px\", height: \"150px\", marginBottom: \"20px\" }}\n          initial={{ opacity: 0, y: -20 }}\n          animate={{ opacity: 1, y: 0 }}\n          transition={{ delay: 0.2, duration: 1, ease: \"easeInOut\" }}\n        />\n        <h2>Set Access Restrictions</h2>\n        <div className=\"glass-container\">\n          <input \n            className=\"glass-input\"\n            type=\"text\" \n            placeholder=\"Address\" \n            value={accessAddress} \n            onChange={(e) => setAccessAddress(e.target.value)} \n          />\n          <input \n            className=\"glass-input\"\n            type=\"text\" \n            placeholder=\"Allowed? (true/false)\" \n            value={accessAllowed} \n            onChange={(e) => setAccessAllowed(e.target.value)} \n          />\n          <button onClick={handleSetAccess}>Set Access</button>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default Admin;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}